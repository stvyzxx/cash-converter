!function(){function e(e){U=document.getElementById("toGrivna"),F=document.getElementById("toCurrency"),T=document.getElementById("curTabs"),L=document.getElementById("amount-input"),S=document.getElementById("resultBody"),O=document.getElementById("currencyType"),J=document.getElementById("banksMenu"),I=document.getElementById("averageCourse"),M=document.getElementById("bank"),P=document.querySelectorAll(".page-link"),D=document.getElementById("page-close"),v(U,"click",s),v(F,"click",s),v(T,"click",d),v(L,"keypress",p),v(L,"keyup",y),v(J,"change",l),v(I,"click",u),v(M,"click",u),B(P,"click",c),v(D,"click",o)}function t(e){var t=document.getElementById("receivedJSON");x=e,N=e.organizations,oschadB=N[9],oschadCurrencies=oschadB.currencies,n(),r(),a(),t.parentNode.removeChild(t)}function n(){for(var e=[],t=[],n=0;n<N.length;n++)e.push(N[n].title);for(var r=0;r<W.length;r++)t.push(e.indexOf(W[r]));for(var a=0;a<t.length;a++)void 0!==N[t[a]]&&(K[W[a]]=N[t[a]])}function r(){J=document.getElementById("banksMenu");for(var e in K){var t=document.createElement("option");t.value=e,t.innerHTML=e,J.appendChild(t)}}function a(){var e=0,t=0,n=0;A={eur:0,rub:0,usd:0},R={eur:0,rub:0,usd:0};for(var r in K){var a=K[r].currencies;for(var i in A)if(void 0!==a[i.toUpperCase()])switch(A[i]+=a[i.toUpperCase()].ask/1,R[i]+=a[i.toUpperCase()].bid/1,i){case"eur":e++;break;case"rub":t++;break;case"usd":n++}}A.eur=(A.eur/e).toFixed(2),A.rub=(A.rub/t).toFixed(2),A.usd=(A.usd/n).toFixed(2),R.eur=(R.eur/e).toFixed(2),R.rub=(R.rub/t).toFixed(2),R.usd=(R.usd/n).toFixed(2)}function c(e){var t=document.forms.contactForm,n=e.target||e.srcElement,r=document.getElementById("info-link"),a=document.getElementById("infoPage"),i=document.getElementById("pageCaption"),c=document.querySelectorAll(".overlay");j=document.getElementById("pageWrapper"),h(e),n==r?b(j,"active-page")&&"block"==a.style.display?(j.className="",a.style.display="none"):(k(j,"active-page"),t.style.display="none",i.innerHTML="Інформація",i.style.display="block",a.style.display="block",c[1].style.display="block",w()?w()&&(c[1].style.display="none"):C({draw:function(){this.opacity-=.05,c[1].style.opacity=this.opacity>=0?this.opacity:0,this.opacity<=0&&(c[1].style.display="none")},opacity:1,timing:function(e){return e},duration:1e3})):b(j,"active-page")&&"block"==t.style.display?(j.className="",t.style.display="none"):(k(j,"active-page"),a.style.display="none",i.innerHTML="Зворотній зв'язок",i.style.display="block",t.style.display="block",c[0].style.display="block",w()?w()&&(c[0].style.display="none"):C({draw:function(){this.opacity-=.05,c[0].style.opacity=this.opacity>=0?this.opacity:0,this.opacity<=0&&(c[0].style.display="none")},opacity:1,timing:function(e){return e},duration:1e3}))}function o(){j.className=""}function s(e){var e=e||window.event,t=e.target||e.srcElement,n=t.parentNode;if(t==U?(Q=!0,O.innerHTML=z.toUpperCase()):(Q=!1,O.innerHTML="UAH"),!b(n,"active-offer")){n.className+=" active-offer",currencyTabs=n.parentNode.childNodes;for(var r=0;r<currencyTabs.length;r++)n!=currencyTabs[r]&&b(currencyTabs[r],"active-offer")&&E(currencyTabs[r],"active-offer")}m(),h(e)}function d(e){var e=e||window.event,t=e.target||e.srcElement,n=document.querySelectorAll(".active-tab");if(b(t,"currency")&&!b(t,"active-tab")){t.className+=" active-tab";for(var r=0;r<n.length;r++)t!=n[r]&&b(n[r],"active-tab")&&E(n[r],"active-tab")}b(t,"tab-usd")===!0?($="usd",z="usd",Q&&(O.innerHTML="USD")):b(t,"tab-eur")===!0?($="eur",z="eur",Q&&(O.innerHTML="EUR")):b(t,"tab-rur")===!0&&(z="rub",$="rub",Q&&(O.innerHTML="RUB")),f(),h(e)}function u(e){var t=e.target||e.srcElement;t==I?(J.disabled=!0,J.parentNode.className+=" disabled-state"):t==M&&(J.disabled=!1,E(J.parentNode,"disabled-state")),m()}function l(){m()}function p(e){e=e||window.e;var t=g(e);null!==t&&("."==t?-1!=H.indexOf(".")&&h(e):("0">t||t>"9")&&h(e))}function y(){m()}function m(){function e(e){for(var a in e){var i,c=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div");if(n.checked?i=Q?R[a]:A[a]:r.checked&&t.hasOwnProperty(a.toUpperCase())&&(i=t[a.toUpperCase()][Q?"bid":"ask"]),0!=e[a])o.innerHTML=e[a]+" "+(Q?"UAH":a.toUpperCase()),s.innerHTML=(+i).toFixed(2)+" "+a.toUpperCase();else{if(!(H.length>0&&H>0))return void(S.innerHTML="");s.innerHTML="Дані",o.innerHTML="відсутні"}o.className="sum-col",s.className="course-col",c.className=a+"-row",c.appendChild(s),c.appendChild(o),S.appendChild(c)}f()}q=J.options[J.selectedIndex].text;var t=K[q].currencies,n=document.getElementById("averageCourse"),r=document.getElementById("bank");H=L.value,n.checked?(G={eur:(H*(1/A.eur)).toFixed(2),rub:(H*(1/A.rub)).toFixed(2),usd:(H*(1/A.usd)).toFixed(2)},V={eur:(H*R.eur).toFixed(2),rub:(H*(1*R.rub)).toFixed(2),usd:(H*R.usd).toFixed(2)}):r.checked&&(G={eur:t.hasOwnProperty("EUR")?(H*(1/t.EUR.ask)).toFixed(2):!1,rub:t.hasOwnProperty("RUB")?(H*(1/t.RUB.ask)).toFixed(2):!1,usd:t.hasOwnProperty("USD")?(H*(1/t.USD.ask)).toFixed(2):!1},V={eur:t.hasOwnProperty("EUR")?(H*t.EUR.bid).toFixed(2):!1,rub:t.hasOwnProperty("RUB")?(H*(1*t.RUB.bid)).toFixed(2):!1,usd:t.hasOwnProperty("USD")?(H*t.USD.bid).toFixed(2):!1}),S.innerHTML="",e(Q===!0?V:G)}function f(){var e,t=S.childNodes;if(!(t.length<=1)){for(var n=0;n<t.length;n++){var r=t[n].className;r.slice(0,3)==$&&(e=S.removeChild(t[n]))}S.insertBefore(e,t[0])}}function v(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function h(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function b(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}function g(e){return null==e.which?e.keyCode<32?null:String.fromCharCode(e.keyCode):0!==e.which&&0!==e.charCode?e.which<32?null:String.fromCharCode(e.which):null}function k(e,t){b(e,t)||(e.className+=" "+t)}function E(e,t){var n=e.className.split(" ");for(i=0;i<n.length;i++)n[i]==t&&(n.splice(i,1),i--);e.className=n.join(" ")}function B(e,t,n){for(var r=0;r<e.length;r++)v(e[r],t,n)}function C(e){var t=performance.now();requestAnimationFrame(function n(r){var a=(r-t)/e.duration;a>1&&(a=1);var i=e.timing(a);e.draw(i),1>a&&requestAnimationFrame(n)})}function w(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("msie")?parseInt(e.split("msie")[1]):!1}var x,N,U,F,T,I,M,L,H,O,S,A,R,P,j,D,q,J,$="usd",z="usd",G={eur:0,rub:0,usd:0},V={eur:0,rub:0,usd:0},W=["А-Банк","Альфа-Банк","Кредобанк","Альянс","Львов Банк","ОТП Банк","Ощадбанк","ПЛАТИНУМ БАНК (Platinum Bank TM)","ПУМБ","ПриватБанк","Райффайзен Банк Аваль","Укрсоцбанк UniCredit Bank TM"],K={},Q=!0;v(window,"load",e),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var n=t||0,r=this.length;r>n;n++)if(this[n]===e)return n;return-1}),$jsonp=function(){var e={};return e.send=function(e,t){var t=t||{},n=t.callbackName||"callback",r=t.onSuccess||function(){};window[n]=function(e){r(e)};var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.id="receivedJSON",document.getElementsByTagName("head")[0].appendChild(a)},e}(),$jsonp.send("http://json2jsonp.com/?url=http://resources.finance.ua/ru/public/currency-cash.json&callback=callbackFunc",{onSuccess:t,callbackName:"callbackFunc"})}();