!function(){function e(e){function t(){document.body.removeChild(n)}if(U=document.getElementById("toGrivna"),T=document.getElementById("toCurrency"),I=document.getElementById("curTabs"),L=document.getElementById("amount-input"),A=document.getElementById("resultBody"),O=document.getElementById("currencyType"),$=document.getElementById("banksMenu"),M=document.getElementById("averageCourse"),S=document.getElementById("bank"),j=document.querySelectorAll(".page-link"),q=document.getElementById("page-close"),cForm=document.getElementById("conForm"),h(U,"click",s),h(T,"click",s),h(I,"click",d),h(L,"keypress",m),h(L,"keyup",p),h($,"change",l),h(M,"click",u),h(S,"click",u),B(j,"click",o),h(q,"click",c),h(cForm,"submit",f),sessionStorage.getItem("formSubmit")){var n=document.createElement("div"),r=document.createElement("div");n.innerHTML="Повідомлення відправлено!",n.id="submitMessage",r.id="messageClose",r.className="glyphicon glyphicon-remove",n.appendChild(r),document.body.appendChild(n),sessionStorage.removeItem("formSubmit"),h(r,"click",t)}}function t(e){var t=document.getElementById("receivedJSON");F=e,N=e.organizations,oschadB=N[9],oschadCurrencies=oschadB.currencies,n(),r(),a(),t.parentNode.removeChild(t)}function n(){for(var e=[],t=[],n=0;n<N.length;n++)e.push(N[n].title);for(var r=0;r<K.length;r++)t.push(e.indexOf(K[r]));for(var a=0;a<t.length;a++)void 0!==N[t[a]]&&(Q[K[a]]=N[t[a]])}function r(){$=document.getElementById("banksMenu");for(var e in Q){var t=document.createElement("option");t.value=e,t.innerHTML=e,$.appendChild(t)}}function a(){var e=0,t=0,n=0;R={eur:0,rub:0,usd:0},P={eur:0,rub:0,usd:0};for(var r in Q){var a=Q[r].currencies;for(var i in R)if(void 0!==a[i.toUpperCase()])switch(R[i]+=a[i.toUpperCase()].ask/1,P[i]+=a[i.toUpperCase()].bid/1,i){case"eur":e++;break;case"rub":t++;break;case"usd":n++}}R.eur=(R.eur/e).toFixed(2),R.rub=(R.rub/t).toFixed(2),R.usd=(R.usd/n).toFixed(2),P.eur=(P.eur/e).toFixed(2),P.rub=(P.rub/t).toFixed(2),P.usd=(P.usd/n).toFixed(2)}function o(e){var t=document.forms.contactForm,n=e.target||e.srcElement,r=document.getElementById("info-link"),a=document.getElementById("infoPage"),i=document.getElementById("pageCaption"),o=document.querySelectorAll(".overlay");D=document.getElementById("pageWrapper"),b(e),n==r?g(D,"active-page")&&"block"==a.style.display?(D.className="",a.style.display="none"):(E(D,"active-page"),t.style.display="none",i.innerHTML="Інформація",i.style.display="block",a.style.display="block",o[1].style.display="block",x()?x()&&(o[1].style.display="none"):w({draw:function(){this.opacity-=.05,o[1].style.opacity=this.opacity>=0?this.opacity:0,this.opacity<=0&&(o[1].style.display="none")},opacity:1,timing:function(e){return e},duration:1e3})):g(D,"active-page")&&"block"==t.style.display?(D.className="",t.style.display="none"):(E(D,"active-page"),a.style.display="none",i.innerHTML="Зворотній зв'язок",i.style.display="block",t.style.display="block",o[0].style.display="block",x()?x()&&(o[0].style.display="none"):w({draw:function(){this.opacity-=.05,o[0].style.opacity=this.opacity>=0?this.opacity:0,this.opacity<=0&&(o[0].style.display="none")},opacity:1,timing:function(e){return e},duration:1e3}))}function c(){D.className=""}function s(e){var e=e||window.event,t=e.target||e.srcElement,n=t.parentNode;if(t==U?(X=!0,O.innerHTML=G.toUpperCase()):(X=!1,O.innerHTML="UAH"),!g(n,"active-offer")){n.className+=" active-offer",currencyTabs=n.parentNode.childNodes;for(var r=0;r<currencyTabs.length;r++)n!=currencyTabs[r]&&g(currencyTabs[r],"active-offer")&&C(currencyTabs[r],"active-offer")}y(),b(e)}function d(e){var e=e||window.event,t=e.target||e.srcElement,n=document.querySelectorAll(".active-tab");if(g(t,"currency")&&!g(t,"active-tab")){t.className+=" active-tab";for(var r=0;r<n.length;r++)t!=n[r]&&g(n[r],"active-tab")&&C(n[r],"active-tab")}g(t,"tab-usd")===!0?(z="usd",G="usd",X&&(O.innerHTML="USD")):g(t,"tab-eur")===!0?(z="eur",G="eur",X&&(O.innerHTML="EUR")):g(t,"tab-rur")===!0&&(G="rub",z="rub",X&&(O.innerHTML="RUB")),v(),b(e)}function u(e){var t=e.target||e.srcElement;t==M?($.disabled=!0,$.parentNode.className+=" disabled-state"):t==S&&($.disabled=!1,C($.parentNode,"disabled-state")),y()}function l(){y()}function m(e){e=e||window.e;var t=k(e);null!==t&&("."==t?-1!=H.indexOf(".")&&b(e):("0">t||t>"9")&&b(e))}function p(){y()}function y(){function e(e){for(var a in e){var i,o=document.createElement("div"),c=document.createElement("div"),s=document.createElement("div");if(n.checked?i=X?P[a]:R[a]:r.checked&&t.hasOwnProperty(a.toUpperCase())&&(i=t[a.toUpperCase()][X?"bid":"ask"]),0!=e[a])c.innerHTML=e[a]+" "+(X?"UAH":a.toUpperCase()),s.innerHTML=(+i).toFixed(2)+" "+a.toUpperCase();else{if(!(H.length>0&&H>0))return void(A.innerHTML="");s.innerHTML="Дані",c.innerHTML="відсутні"}c.className="sum-col",s.className="course-col",o.className=a+"-row",o.appendChild(s),o.appendChild(c),A.appendChild(o)}v()}J=$.options[$.selectedIndex].text;var t=Q[J].currencies,n=document.getElementById("averageCourse"),r=document.getElementById("bank");H=L.value,n.checked?(V={eur:(H*(1/R.eur)).toFixed(2),rub:(H*(1/R.rub)).toFixed(2),usd:(H*(1/R.usd)).toFixed(2)},W={eur:(H*P.eur).toFixed(2),rub:(H*(1*P.rub)).toFixed(2),usd:(H*P.usd).toFixed(2)}):r.checked&&(V={eur:t.hasOwnProperty("EUR")?(H*(1/t.EUR.ask)).toFixed(2):!1,rub:t.hasOwnProperty("RUB")?(H*(1/t.RUB.ask)).toFixed(2):!1,usd:t.hasOwnProperty("USD")?(H*(1/t.USD.ask)).toFixed(2):!1},W={eur:t.hasOwnProperty("EUR")?(H*t.EUR.bid).toFixed(2):!1,rub:t.hasOwnProperty("RUB")?(H*(1*t.RUB.bid)).toFixed(2):!1,usd:t.hasOwnProperty("USD")?(H*t.USD.bid).toFixed(2):!1}),A.innerHTML="",e(X===!0?W:V)}function f(){sessionStorage.setItem("formSubmit",!0)}function v(){var e,t=A.childNodes;if(!(t.length<=1)){for(var n=0;n<t.length;n++){var r=t[n].className;r.slice(0,3)==z&&(e=A.removeChild(t[n]))}A.insertBefore(e,t[0])}}function h(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function b(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function g(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}function k(e){return null==e.which?e.keyCode<32?null:String.fromCharCode(e.keyCode):0!==e.which&&0!==e.charCode?e.which<32?null:String.fromCharCode(e.which):null}function E(e,t){g(e,t)||(e.className+=" "+t)}function C(e,t){var n=e.className.split(" ");for(i=0;i<n.length;i++)n[i]==t&&(n.splice(i,1),i--);e.className=n.join(" ")}function B(e,t,n){for(var r=0;r<e.length;r++)h(e[r],t,n)}function w(e){var t=performance.now();requestAnimationFrame(function n(r){var a=(r-t)/e.duration;a>1&&(a=1);var i=e.timing(a);e.draw(i),1>a&&requestAnimationFrame(n)})}function x(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("msie")?parseInt(e.split("msie")[1]):!1}var F,N,U,T,I,M,S,L,H,O,A,R,P,j,D,q,J,$,z="usd",G="usd",V={eur:0,rub:0,usd:0},W={eur:0,rub:0,usd:0},K=["А-Банк","Альфа-Банк","Кредобанк","Альянс","Львов Банк","ОТП Банк","Ощадбанк","ПЛАТИНУМ БАНК (Platinum Bank TM)","ПУМБ","ПриватБанк","Райффайзен Банк Аваль","Укрсоцбанк UniCredit Bank TM"],Q={},X=!0;h(window,"load",e),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var n=t||0,r=this.length;r>n;n++)if(this[n]===e)return n;return-1}),$jsonp=function(){var e={};return e.send=function(e,t){var t=t||{},n=t.callbackName||"callback",r=t.onSuccess||function(){};window[n]=function(e){r(e)};var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.id="receivedJSON",document.getElementsByTagName("head")[0].appendChild(a)},e}(),$jsonp.send("http://json2jsonp.com/?url=http://resources.finance.ua/ru/public/currency-cash.json&callback=callbackFunc",{onSuccess:t,callbackName:"callbackFunc"})}();